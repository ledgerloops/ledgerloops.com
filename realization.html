<!DOCTYPE html>
<html>
    <head>
        <!-- Site made with Mobirise Website Builder v5.9.18, https://mobirise.com -->
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="generator" content="Mobirise v5.9.18, mobirise.com">
        <meta name="twitter:card" content="summary_large_image"/>
        <meta name="twitter:image:src" content="assets/images/realization-meta.jpg">
        <meta property="og:image" content="assets/images/realization-meta.jpg">
        <meta name="twitter:title" content="Realization">
        <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
        <link rel="shortcut icon" href="assets/images/ledgerloops-logo-new-144x87.jpg" type="image/x-icon">
        <meta name="description" content="Ledger Loops revolutionizes invoice clearing by enabling businesses to settle transactions without cash, enhancing cash flow and efficiency in peer-to-peer networks.">
        <title>Realization</title>
        <link rel="stylesheet" href="assets/web/assets/mobirise-icons2/mobirise2.css">
        <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
        <link rel="stylesheet" href="assets/bootstrap/css/bootstrap-grid.min.css">
        <link rel="stylesheet" href="assets/bootstrap/css/bootstrap-reboot.min.css">
        <link rel="stylesheet" href="assets/web/assets/gdpr-plugin/gdpr-styles.css">
        <link rel="stylesheet" href="assets/dropdown/css/style.css">
        <link rel="stylesheet" href="assets/socicon/css/styles.css">
        <link rel="stylesheet" href="assets/theme/css/style.css">
        <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter+Tight:wght@400;700&display=swap&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript>
            <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter+Tight:wght@400;700&display=swap&display=swap">
        </noscript>
        <link rel="preload" as="style" href="assets/mobirise/css/mbr-additional.css?v=RsAAXX">
        <link rel="stylesheet" href="assets/mobirise/css/mbr-additional.css?v=RsAAXX" type="text/css">
    </head>
    <body>
        <section data-bs-version="5.1" class="menu menu2 cid-ur8H0aAPgP" once="menu" id="menu02-i">
            <nav class="navbar navbar-dropdown navbar-fixed-top navbar-expand-lg">
                <div class="container">
                    <div class="navbar-brand"><span class="navbar-logo"> <a href="https://ledgerloops.com"> <img src="assets/images/ledgerloops-logo-new-144x87.jpg" alt="Mobirise Website Builder" style="height: 4.3rem;"> </a> </span>
                    </div>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbarSupportedContent" data-bs-target="#navbarSupportedContent" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
                        <div class="hamburger"><span></span><span></span><span></span><span></span>
                        </div>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                        <ul class="navbar-nav nav-dropdown nav-right" data-app-modern-menu="true">
                            <li class="nav-item"><a class="nav-link link text-white text-primary display-4" href="initiation.html">Initiation</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link link text-white text-primary display-4" href="description.html">Description</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link link text-white text-primary display-4" href="realization.html">Realization</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link link text-white text-primary display-4" href="activation.html">Activation</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link link text-white text-primary display-4" href="contact.html">Contact</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>
        </section>
        <section data-bs-version="5.1" class="article9 cid-ur8H0bny0U mbr-fullscreen" id="article09-l">
            <div class="container-fluid">
                <div class="row justify-content-center">
                    <div class="card col-md-12 col-lg-10">
                        <div class="card-wrapper">
                            <div class="card-content-text">
                                <div align="center"> 
                                    <h1 id="ledgerloops-using-the-sarafu-dataset">LedgerLoops using the Sarafu dataset</h1>
                                </div>
                                <p>In order to know whether our algorithm actually works and scales, we tested it on a rather large dataset: the Sarafu dataset.</p>
                                <h3 id="the-sarafu-dataset">The Sarafu Dataset</h3>
                                <p>The Sarafu Dataset is <a href="https://www.nature.com/articles/s41597-022-01539-4">openly available</a> and describes 440,000 transactions between
roughly 55,000 accounts. We use it here to see if the LedgerLoops algorithm can efficiently find loops.</p>
                                <h3 id="definition-of-loops">Definition of Loops</h3>
                                <p>Consider the following small dataset:</p>
                                <p><pre><code>Transaction <span class="hljs-number">1</span>: <span class="hljs-keyword">Node</span> <span class="hljs-title">1</span> sends <span class="hljs-keyword">node</span> <span class="hljs-title">2</span> a transfer of <span class="hljs-number">50</span> units
Transaction <span class="hljs-number">2</span>: <span class="hljs-keyword">Node</span> <span class="hljs-title">2</span> sends <span class="hljs-keyword">node</span> <span class="hljs-title">3</span> a transfer of <span class="hljs-number">150</span> units
Transaction <span class="hljs-number">3</span>: <span class="hljs-keyword">Node</span> <span class="hljs-title">3</span> sends <span class="hljs-keyword">node</span> <span class="hljs-title">2</span> a transfer of <span class="hljs-number">25</span> units
Transaction <span class="hljs-number">4</span>: <span class="hljs-keyword">Node</span> <span class="hljs-title">3</span> sends <span class="hljs-keyword">node</span> <span class="hljs-title">1</span> a transfer of <span class="hljs-number">25</span> units
</code></pre></p>
                                <p>If these transactions are administered on a single ledger, then the balances would evolve as follows:</p>
                                <p> <table width="100%">
                                        <thead>
                                            <tr>
                                                <th>After transaction </th>
                                                <th>Node 1 balance </th>
                                                <th>Node 2 balance </th>
                                                <th>Node 3 balance </th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>0</td>
                                                <td>0</td>
                                                <td>0</td>
                                                <td>0</td>
                                            </tr>
                                            <tr>
                                                <td>1</td>
                                                <td>0 - 50 = -50</td>
                                                <td>0 + 50 = 50</td>
                                                <td>0</td>
                                            </tr>
                                            <tr>
                                                <td>2</td>
                                                <td>-50</td>
                                                <td>50 - 150 = -100</td>
                                                <td>0 + 150 = 150</td>
                                            </tr>
                                            <tr>
                                                <td>3</td>
                                                <td>-50</td>
                                                <td>-100 + 25 = -75</td>
                                                <td>150 - 25 = 125</td>
                                            </tr>
                                            <tr>
                                                <td>4</td>
                                                <td>-50 + 25 = -25</td>
                                                <td>-75</td>
                                                <td>125 - 25 = 100</td>
                                            </tr>
                                        </tbody>
                                    </table></p>
                                <p>Note that in this situation, each node has only a single balance against its environment, and netting
happens explicitly as a part of each transaction. At each transaction, two of the balances on the central
ledger are updated.</p>
                                <p>It is, however, also possible to implement a payment network using just bilateral peer-to-peer trustlines.
In that case, the balances would evolve as follows:</p>
                                <p><table width="100%">
                                        <thead>
                                            <tr>
                                                <th>After transaction</th>
                                                <th>[1-&gt;2, 1-&gt;3] bilateral balances</th>
                                                <th>[2-&gt;1, 2-&gt;3] bilateral balances</th>
                                                <th>[3-&gt;1, 3-&gt;2] bilateral balances</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>0</td>
                                                <td>[ 0, 0  ]</td>
                                                <td>[ 0, 0 ]</td>
                                                <td>[ 0, 0 ]</td>
                                            </tr>
                                            <tr>
                                                <td>1</td>
                                                <td>[-50, 0 ]</td>
                                                <td>[ 50 , 0 ]</td>
                                                <td>[ 0, 0 ]</td>
                                            </tr>
                                            <tr>
                                                <td>2</td>
                                                <td>[-50, 0 ]</td>
                                                <td>[ 50, -150 ]</td>
                                                <td>[ 0, 150 ]</td>
                                            </tr>
                                            <tr>
                                                <td>3</td>
                                                <td>[-50, 0 ]</td>
                                                <td>[ 50 , -125 ]</td>
                                                <td>[ 0, 125 ]</td>
                                            </tr>
                                            <tr>
                                                <td>4</td>
                                                <td>[-50, 25 ]</td>
                                                <td>[ 50 , -125 ]</td>
                                                <td>[ -25, 125 ]</td>
                                            </tr>
                                        </tbody>
                                    </table></p>
                                <p>Note that in this case bilateral netting between nodes 2 and 3 is still immediate, and transactions 2 and 3 partially
cancel each other out.</p>
                                <p>However, whereas the central ledger ends up with a total deployed balance of 100 units,
the system of bilateral ledgers ends up with total deployed balance of 50 + (150-25) + 25 = 200 units.</p>
                                <p>In order to reduce the total deployed balance in a network of bilateral ledgers, loops can be used.
They consist of a set of transactions, one per ledger, that reduce the total deployed balance in a way all participants can agree with.</p>
                                <p>So in this case:</p>
                                <pre><code>Transaction <span class="hljs-number">5</span>a: <span class="hljs-keyword">Node</span> <span class="hljs-title">2</span> sends <span class="hljs-keyword">node</span> <span class="hljs-title">1</span> a loop-transfer <span class="hljs-number">25</span> units.
Transaction <span class="hljs-number">5</span>b: <span class="hljs-keyword">Node</span> <span class="hljs-title">3</span> sends <span class="hljs-keyword">node</span> <span class="hljs-title">2</span> a loop-transfer <span class="hljs-number">25</span> units.
Transaction <span class="hljs-number">5</span>c: <span class="hljs-keyword">Node</span> <span class="hljs-title">1</span> sends <span class="hljs-keyword">node</span> <span class="hljs-title">3</span> a loop-transfer <span class="hljs-number">25</span> units.
</code></pre>
                                <p>And the effect:</p>
                                <table width="100%">
                                    <thead>
                                        <tr>
                                            <th>After transaction</th>
                                            <th>[1-&gt;2, 1-&gt;3] bilateral balances</th>
                                            <th>[2-&gt;1, 2-&gt;3] bilateral balances</th>
                                            <th>[3-&gt;1, 3-&gt;2] bilateral balances</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>5a</td>
                                            <td>[ -50 + 25 = -25, 25 ]</td>
                                            <td>[ 50 - 25 = 25, -125 ]</td>
                                            <td>[ -25, 125 ]</td>
                                        </tr>
                                        <tr>
                                            <td>5b</td>
                                            <td>[ -25, 25 ]</td>
                                            <td>[ 25, -125 + 25 = -100 ]</td>
                                            <td>[ -25, 125 - 25 = 100 ]</td>
                                        </tr>
                                        <tr>
                                            <td>5c</td>
                                            <td>[ -25, 25 - 25 = 0 ]</td>
                                            <td>[ 25, -100 ]</td>
                                            <td>[ -25 + 25 = 0, 100 ]</td>
                                        </tr>
                                    </tbody>
                                </table>
                                <p>The total deployed balance has now been reduced by 3 times 25 units, from 50 + (150-25) + 25 = 200 units to (50-25) + (150-25-25) + (25-25) = 125 units.</p>
                                <h3 id="performance">Performance</h3>
                                <h4 id="bandwidth">Bandwidth</h4>
                                <p>In the simulation, our algorithm triggered an average of 13 messages per transaction. This includes the transfer message itself, plus all probe and nack messages used for loop detection, plus all scout, propose and commit used for loop removal. The messages were roughly 64 bytes each, so the total amount of bandwidth used for one transfer was roughly 1 Kb.</p>
                                <p>We think this is a very reasonable requirement on modern internet-connected systems.</p>
                                <p>Processor Time using a benchmark bird&#39;s eye view algorithm in a single thread took 21 seconds.</p>
                                <p>The simulation, reading all 440,000 <code>STANDARD</code> transactions from the <code>sarafu_txns_20200125-20210615.csv</code> file,
keeping track of the balances of each of the 40,000 participants, and detecting 7,000 loops in a single thread, took 90 seconds.</p>
                                <p>In these 90 seconds, 5 million messages were processed, so this is equivalent to 60,000 messages processed per second, in a single-thread, on a laptop from 2019.</p>
                                <p>We think this is also a very reasonable Processor Time requirement.</p>
                                <h3 id="conclusion">Conclusion</h3>
                                <h4 id="observations">Observations</h4>
                                <p>The current algorithm is a first versions, and we expect that over time it will get even better. However, the current performance is very impressive both in terms of low cost and in terms of high benefits.</p>
                                <h4 id="tech-preview">Tech Preview</h4>
                                <p>Our implementation of the LedgerLoops algorithm is now available for use in technology pilot projects. Please contact michiel@pondersource.com to book a free demonstration.</p>
                                <h4 id="algorithm-open-standard">Algorithm Open Standard</h4>
                                <p>We invite other implementers to implement software compatible with ours, by following the IETF internet draft which will be published soon.</p>
        </section>
        <section data-bs-version="5.1" class="news08 cid-ur9axhZok2" id="news08-1c">
            <div class="container-fluid">
                <div class="row justify-content-center mb-5">
                    <div class="col-12 content-head">
                        <div class="mbr-section-head">
                            <h4 class="mbr-section-title mbr-fonts-style align-center mb-0 display-2"> <strong>Take A Closer Look</strong></h4>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="item features-image col-12 col-md-6 col-lg-3 active">
                        <div class="item-wrapper">
                            <div class="item-img mb-3"><a href="initiation.html"><img src="assets/images/ledgerloops-logo-new-tagline-128x71.png" alt="History of Ledger Loops" title=""></a>
                            </div>
                            <div class="item-content align-left">
                                <h5 class="item-title mbr-fonts-style mt-0 mb-3 display-7">Initiation</h5>
                                <h6 class="item-subtitle mbr-fonts-style mb-3 display-5"> <strong>The History of LedgerLoops</strong></h6>
                                <div class="mbr-section-btn item-footer">
                                    <a href="initiation.html" class="btn item-btn btn-primary display-7">Read</a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="item features-image col-12 col-md-6 col-lg-3">
                        <div class="item-wrapper">
                            <div class="item-img mb-3"><a href="description.html"><img src="assets/images/whispering-merchants-by-njoku-johnston-838x471.png" alt="Ledgerloops Whispering Merchants"></a>
                            </div>
                            <div class="item-content align-left">
                                <h5 class="item-title mbr-fonts-style mb-3 mt-0 display-7">Description</h5>
                                <h6 class="item-subtitle mbr-fonts-style mb-3 display-5"> <strong>Tale of the Whispering Merchants</strong></h6>
                                <div class="mbr-section-btn item-footer">
                                    <a href="description.html" class="btn item-btn btn-primary display-7">Read</a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="item features-image col-12 col-md-6 col-lg-3">
                        <div class="item-wrapper">
                            <div class="item-img mb-3"><a href="realization.html"><img src="assets/images/sarafu-374x377.jpg" alt="Ledger Loops Sarafu"></a>
                            </div>
                            <div class="item-content align-left">
                                <h5 class="item-title mbr-fonts-style mb-3 mt-0 display-7">Realization</h5>
                                <h6 class="item-subtitle mbr-fonts-style mt-0 mb-3 display-5"><strong>LedgerLoops using the Sarafu dataset</strong></h6>
                                <div class="mbr-section-btn item-footer">
                                    <a href="realization.html" class="btn item-btn btn-primary display-7">Read</a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="item features-image col-12 col-md-6 col-lg-3">
                        <div class="item-wrapper">
                            <div class="item-img mb-3"><a href="activation.html"><img src="assets/images/photo-1498050108023-c5249f4df085.jpeg" alt="Ledger Loops Activation"></a>
                            </div>
                            <div class="item-content align-left">
                                <h5 class="item-title mbr-fonts-style mb-3 mt-0 display-7">Activation</h5>
                                <h6 class="item-subtitle mbr-fonts-style mt-0 mb-3 display-5"> <strong>Getting Started with LedgerLoops</strong></h6>
                                <div class="mbr-section-btn item-footer">
                                    <a href="activation.html" class="btn item-btn btn-primary display-7">Read</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <section data-bs-version="5.1" class="footer3 cid-ur8H0c3AbF" once="footers" id="footer03-n">
            <div class="container">
                <div class="row">
                    <div class="col-12 mt-4">
                        <p class="mbr-fonts-style copyright display-7">© 2024 LedgerLoops. All rights reserved.</p>
                    </div>
                </div>
            </div>
        </section>
        <script src="assets/bootstrap/js/bootstrap.bundle.min.js"></script>         
        <script src="assets/smoothscroll/smooth-scroll.js"></script>         
        <script src="assets/ytplayer/index.js"></script>         
        <script src="assets/dropdown/js/navbar-dropdown.js"></script>         
        <script src="assets/theme/js/script.js"></script>         
    </body>
